/// <reference path="../../adonis-typings/index.d.ts" />
/// <reference types="@adonisjs/profiler/build/adonis-typings/profiler" />
import { ProfilerContract, ProfilerRowContract } from '@ioc:Adonis/Core/Profiler';
import { ActionsAuthorizerContract } from '@ioc:Adonis/Addons/Bouncer';
import { Bouncer } from '../Bouncer';
/**
 * Exposes the API to authorize actions
 */
export declare class ActionsAuthorizer implements ActionsAuthorizerContract<any> {
    private userOrResolver;
    private bouncer;
    /**
     * An optional profiler instance to profile the actions. Usually it will
     * be an instance of the current HTTP request profiler
     */
    private profiler?;
    /**
     * We lookup the user lazily using the "userOrResolver" property. This
     * allows the class consumer to provide the user after creating
     * the authorizer instance.
     *
     * We stop calling the resolver, once we receive the user instance.
     */
    user: any;
    constructor(userOrResolver: any, bouncer: Bouncer);
    /**
     * Resolve the user from the userOrResolver
     * property
     */
    private resolveUser;
    /**
     * Run all hooks for a given lifecycle phase
     */
    private runHooks;
    /**
     * Run the action
     */
    private runAction;
    /**
     * Run the authorization action
     */
    private authorizeAction;
    /**
     * Set profiler instance to be used for profiling calls
     */
    setProfiler(profiler?: ProfilerRowContract | ProfilerContract): this;
    /**
     * Create a new authorizer instance for a given user
     */
    forUser(userOrResolver: any): ActionsAuthorizer;
    /**
     * Returns an instance of the policies authorizer
     */
    with(policy: string): any;
    /**
     * Find if a user is allowed to perform the action
     */
    allows(action: string, ...args: any[]): Promise<boolean>;
    /**
     * Find if a user is not allowed to perform the action
     */
    denies(action: string, ...args: any[]): Promise<boolean>;
    /**
     * Authorize user against the given action
     */
    authorize(action: string, ...args: any[]): Promise<void>;
    /**
     * Parses the ability arguments passed to "can" and "cannot" methods
     */
    private parseAbilityArguments;
    /**
     * The untyped version of [[this.allows]] and support references a policy.action
     * via string. Added mainly to be used inside the templates.
     *
     * For example:
     * ```
     * bouncer.can('PostPolicy.update', post)
     * ```
     */
    can(policyOrAction: string, ...args: any[]): Promise<any>;
    /**
     * The untyped version of [[this.denies]] and support references a policy.action
     * via string. Added mainly to be used inside the templates.
     *
     * For example:
     * ```
     * bouncer.cannot('PostPolicy.update', post)
     * ```
     */
    cannot(policyOrAction: string, ...args: any[]): Promise<any>;
}
